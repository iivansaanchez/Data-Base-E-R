CREATE TABLE DEPART 
(
DEPT_NO INT(4),
DNOMBRE VARCHAR(20),
LOC VARCHAR(20),

CONSTRAINT PK_DEPART PRIMARY KEY (DEPT_NO)
);

CREATE TABLE EMPLE 
(
DEPT_NO INT(2),
COMISION INT(8),
SALARIO INT(8),
FECHA_ALTA DATE,
DIR INT(4),
OFICIO VARCHAR(15),
APELLIDO VARCHAR(20),
EMP_NO INT (4),

CONSTRAINT PK_EMP PRIMARY KEY (EMP_NO),
CONSTRAINT FK_EMP FOREIGN KEY (DEPT_NO) REFERENCES DEPART(DEPT_NO)
);

INSERT INTO DEPART VALUES(10, 'CONTABILIDAD', 'SEVILLA');
INSERT INTO DEPART VALUES(20, 'INVESTIGACIÓN', 'MADRID');
INSERT INTO DEPART VALUES(30, 'VENTAS', 'BARCELONA');
INSERT INTO DEPART VALUES(40, 'PRODUCCIÓN', 'BILBAO');

INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,DIR,FECHA_ALTA,SALARIO,DEPT_NO) VALUES (7369,'SANCHEZ','EMPLEADO',7902,'1980-12-17',104000,20);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,DIR,FECHA_ALTA,SALARIO,COMISION,DEPT_NO) VALUES (7499,'ARROYO','VENDEDOR',7698,'1980-02-20',208000,3900,30);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,DIR,FECHA_ALTA,SALARIO,COMISION,DEPT_NO) VALUES (7521,'SALA','VENDEDOR',7698,'1980-02-22',162500,162502,30);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,DIR,FECHA_ALTA,SALARIO,DEPT_NO) VALUES (7566,'JIMENEZ','DIRECTOR',7839,'1980-04-02',386750,20);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,DIR,FECHA_ALTA,SALARIO,COMISION,DEPT_NO) VALUES (7654,'MARTIN','VENDEDOR',7698,'1981-09-29',162500,182000,30);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,DIR,FECHA_ALTA,SALARIO,DEPT_NO) VALUES (7698,'NEGRO','DIRECTOR',7839,'1981-05-01',370500,30);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,DIR,FECHA_ALTA,SALARIO,DEPT_NO) VALUES (7788,'GIL','ANALISTA',7566,'1981-11-09',390000,20);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,FECHA_ALTA,SALARIO,DEPT_NO) VALUES (7839,'REY','PRESIDENTE','1981-11-17',650000,10);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,DIR,FECHA_ALTA,SALARIO,COMISION,DEPT_NO) VALUES (7844,'TOVAR','VENDEDOR',7698,'1981-09-08',195000,0,30);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,DIR,FECHA_ALTA,SALARIO,DEPT_NO) VALUES (7876,'ALONSO','VENDEDOR',7698,'1981-08-23',14300,20);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,DIR,FECHA_ALTA,SALARIO,DEPT_NO) VALUES (7900,'JIMENO','EMPLEADO',7698,'1981-12-03',1235000,30);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,DIR,FECHA_ALTA,SALARIO,DEPT_NO) VALUES (7902,'FERNANDEZ','ANALISTA',7566,'1981-12-03',390000,20);
INSERT INTO EMPLE (EMP_NO,APELLIDO,OFICIO,FECHA_ALTA,SALARIO,DEPT_NO) VALUES (7934,'MUÑOZ','EMPLEADO','1982-01-23',169000,10);


ALTER TABLE EMPLE ADD CONSTRAINT FK2_EMPLE FOREIGN KEY (DIR) REFERENCES EMPLE(EMP_NO);









